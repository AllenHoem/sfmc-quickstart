<!DOCTYPE html>
<html>
<head>
  <% include ../../partials/header.ejs %>
  <script src="/scripts/java-playground.js"></script>
  <script src='https://www.google.com/recaptcha/api.js'></script>
</head>

<body>

<% include ../../partials/header-playground-java.ejs %>
<% include ../../partials/header-playground-java-steps.ejs %>
    
<!-- Tutorial steps -->
<div class="container">

  <p class="mt-3">Let's create an advanced Java app in the <strong>Marketing Cloud SDK Playground</strong>. This app will connect to Marketing Cloud, send an e-mail to a receipient you specify and check status of the e-mail.</p>

  <p class="mt-3">Like before, this Java app uses pre-provisioned API Keys (<code>Client ID</code> and <code>Client Secret</code>) from 
    the <strong>Marketing Cloud SDK Playground</strong> environment to connect to Marketing Cloud. Complete the steps below to compile and run the Java app in the playground.</p>
  
  <form id="formRunCommand" action="/playgound-api/java/runapp2" method="post">

    <!-- Step 1 -->
    <div class="card mt-3">
      <div class="card-block">
        <div class="card-header text-white" style="background-color: #00AA9E;">Step 3.1: Pass CAPTCHA check</div>
        <div class="card-body">
          <p class="card-text">Click <mark>I'm not a robot</mark>. We do this to protect against spam and abuse.</p>
          <div id="g-recaptcha" class="g-recaptcha" data-sitekey="<%= process.env.SFMC_PLAYGROUND_RECAPTCHA_SITEKEY %>"></div>
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="card mt-3">
      <div class="card-block">
        <div class="card-header text-white" style="background-color: #00AA9E;">Step 3.2: Enter ONE receipient's e-mail address</div>
        <div class="card-body">
          <input required type="email" class="form-control" name="inputEmail" id="inputEmail" maxlength="35" aria-describedby="emailHelp" placeholder="Recepient's email address (required)">
          <small id="emailHelp" class="form-text text-muted">This e-mail address is only used for <strong>testing</strong> purposes and never shared with anyone. See <a href="https://trust.salesforce.com" target="_blank">https://trust.salesforce.com</a></small>
        </div>
      </div>
    </div>
        
    <!-- Step 3 -->
    <div class="card mt-3">
      <div class="card-block">
        <div class="card-header text-white" style="background-color: #00AA9E;">Step 3.3: Compile and Run the Java app</div>
        <div class="card-body">
          <p class="card-text">Running the Java app will cause Marketing Cloud to send a <strong>test</strong> e-mail to the receipient you specified above.</p>
          <p class="card-text">Lines <code>10 and 11</code> in the code below use the <code>Client ID</code> and <code>Client Secret</code> from the <strong>Marketing Cloud SDK Playground</strong> environment. Line <code>12</code> is updated with your receipient's e-mail address.</p>
          <button id="buttonRun" class="btn btn-secondary" type="submit">Compile and Run Java app</button>
          <pre style="max-height: 30em" class="line-numbers" data-line="10-11" data-src="/code-snippets/java/app2-playground.java"></pre>
          
          <div class="card mt-3">
            <div class="card-header"><small>CONSOLE OUTPUT</small></div>
            <pre style="max-height: 30em" class="m-2">
              <code id="textRunOutput" class="language-bash">Nothing yet. Complete the steps above to see results.</code>
            </pre>
          </div>

          <div id="textSuccess" class="hide-element">
            <p class="card-text mt-3"><span class="fa fa-star text-success"></span>&nbsp;Congrats. You have sucessfully compiled and run an advanced Java app in the <strong>Marketing Cloud Playground!</strong></p>
          </div>
                  
        </div>
      </div>
    </div>
  </form>
</div>

<% include ../../partials/footer.ejs %>

</body>
</html>